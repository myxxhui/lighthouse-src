"use strict";(self.webpackChunklighthouse_web=self.webpackChunklighthouse_web||[]).push([[61],{68790:function(A,v,r){var S=r(67294),o=r(42697),O=r(40411),c=r(85893),a=function(s){var x=s.status,_=s.size,f=_===void 0?"default":_,D=s.showText,g=D===void 0?!1:D,j=function(){switch(x){case"healthy":return"#52c41a";case"warning":return"#faad14";case"critical":return"#ff4d4f";default:return"#d9d9d9"}},t=function(){switch(x){case"healthy":return"\u5065\u5EB7";case"warning":return"\u8B66\u544A";case"critical":return"\u4E25\u91CD";default:return"\u672A\u77E5"}},m=f==="small"?8:f==="large"?16:12;return(0,c.jsx)(o.Z,{title:t(),children:(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:4},children:[(0,c.jsx)(O.Z,{"data-testid":"status-indicator",color:j(),style:{width:m,height:m,borderRadius:"50%"}}),g&&(0,c.jsx)("span",{children:t()})]})})};v.Z=a},77046:function(A,v,r){r.r(v);var S=r(67294),o=r(79977),O=r(98081),c=r(30699),a=r(6226),i=r(4393),s=r(53531),x=r(99217),_=r(74330),f=r(49897),D=r(50888),g=r(68790),j=r(63034),t=r(85893),m=function(){var h=(0,j.q)(),n=h.sloStatus,T=h.loadingSLO,Z=h.errorSLO,P=h.fetchSLOStatus,B=h.useMockData;(0,S.useEffect)(function(){P()},[P]);var L=function(e){switch(e){case"healthy":return(0,t.jsx)(o.Z,{color:"success",children:"\u5065\u5EB7"});case"warning":return(0,t.jsx)(o.Z,{color:"warning",children:"\u8B66\u544A"});case"critical":return(0,t.jsx)(o.Z,{color:"error",children:"\u4E25\u91CD"});default:return(0,t.jsx)(o.Z,{children:"\u672A\u77E5"})}},I=[{title:"\u670D\u52A1\u540D\u79F0",dataIndex:"serviceName",key:"serviceName",render:function(e){return(0,t.jsx)("strong",{children:e})}},{title:"\u5065\u5EB7\u72B6\u6001",dataIndex:"status",key:"status",render:function(e){return(0,t.jsxs)(O.Z,{children:[(0,t.jsx)(g.Z,{status:e,showText:!0}),L(e)]})}},{title:"\u53EF\u7528\u6027 (%)",dataIndex:"uptime",key:"uptime",render:function(e){return"".concat(e.toFixed(2),"%")},sorter:function(e,l){return e.uptime-l.uptime}},{title:"\u54CD\u5E94\u65F6\u95F4 (ms)",dataIndex:"responseTime",key:"responseTime",render:function(e){return e},sorter:function(e,l){return e.responseTime-l.responseTime}},{title:"\u9519\u8BEF\u7387 (%)",dataIndex:"errorRate",key:"errorRate",render:function(e){return"".concat(e.toFixed(2),"%")},sorter:function(e,l){return e.errorRate-l.errorRate}}],C=function(){if(!n||n.length===0)return null;var e=n.length,l=n.filter(function(u){return u.status==="healthy"}).length,y=n.filter(function(u){return u.status==="warning"}).length,R=n.filter(function(u){return u.status==="critical"}).length,K=n.reduce(function(u,E){return u+E.uptime},0)/e,U=n.reduce(function(u,E){return u+E.responseTime},0)/e,W=n.reduce(function(u,E){return u+E.errorRate},0)/e;return(0,t.jsxs)(c.Z,{gutter:[16,16],style:{marginBottom:16},children:[(0,t.jsx)(a.Z,{xs:24,sm:12,md:6,children:(0,t.jsx)(i.Z,{children:(0,t.jsx)(s.Z,{title:"\u603B\u670D\u52A1\u6570",value:e})})}),(0,t.jsx)(a.Z,{xs:24,sm:12,md:6,children:(0,t.jsx)(i.Z,{children:(0,t.jsx)(s.Z,{title:"\u5065\u5EB7\u670D\u52A1",value:l,valueStyle:{color:"#52c41a"}})})}),(0,t.jsx)(a.Z,{xs:24,sm:12,md:6,children:(0,t.jsx)(i.Z,{children:(0,t.jsx)(s.Z,{title:"\u8B66\u544A\u670D\u52A1",value:y,valueStyle:{color:"#faad14"}})})}),(0,t.jsx)(a.Z,{xs:24,sm:12,md:6,children:(0,t.jsx)(i.Z,{children:(0,t.jsx)(s.Z,{title:"\u4E25\u91CD\u670D\u52A1",value:R,valueStyle:{color:"#ff4d4f"}})})}),(0,t.jsx)(a.Z,{xs:24,sm:12,md:6,children:(0,t.jsx)(i.Z,{children:(0,t.jsx)(s.Z,{title:"\u5E73\u5747\u53EF\u7528\u6027",value:K.toFixed(2),suffix:"%"})})}),(0,t.jsx)(a.Z,{xs:24,sm:12,md:6,children:(0,t.jsx)(i.Z,{children:(0,t.jsx)(s.Z,{title:"\u5E73\u5747\u54CD\u5E94\u65F6\u95F4",value:Math.round(U),suffix:"ms"})})}),(0,t.jsx)(a.Z,{xs:24,sm:12,md:6,children:(0,t.jsx)(i.Z,{children:(0,t.jsx)(s.Z,{title:"\u5E73\u5747\u9519\u8BEF\u7387",value:W.toFixed(2),suffix:"%"})})})]})};return(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{children:"SLO\u5065\u5EB7\u76D1\u63A7"}),B&&(0,t.jsx)(x.Z,{message:"\u5F53\u524D\u4F7F\u7528Mock\u6570\u636E",type:"info",style:{marginBottom:16}}),T?(0,t.jsxs)("div",{style:{textAlign:"center",padding:"40px"},children:[(0,t.jsx)(_.Z,{indicator:(0,t.jsx)(D.Z,{spin:!0})}),(0,t.jsx)("p",{children:"\u52A0\u8F7DSLO\u72B6\u6001\u4E2D..."})]}):Z?(0,t.jsx)(x.Z,{message:"\u52A0\u8F7DSLO\u72B6\u6001\u5931\u8D25",description:Z,type:"error",showIcon:!0,style:{marginBottom:16}}):(0,t.jsxs)(t.Fragment,{children:[C(),(0,t.jsx)(i.Z,{title:"\u670D\u52A1SLO\u8BE6\u60C5",children:n!=null&&n.length?(0,t.jsx)(f.Z,{dataSource:n,columns:I,rowKey:"serviceName",pagination:{pageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","50"]}}):(0,t.jsx)("div",{style:{textAlign:"center",padding:"20px"},children:"\u6682\u65E0SLO\u6570\u636E"})})]})]})};v.default=m}}]);
