"use strict";
import { jsx, jsxs } from "react/jsx-runtime";
import { PieChart, Pie, Cell, ResponsiveContainer, Tooltip } from "recharts";
const EfficiencyChart = ({
  efficiency,
  size = 120,
  showLabel = true
}) => {
  const data = [
    { name: "\u6548\u7387", value: efficiency },
    { name: "\u53EF\u4F18\u5316\u7A7A\u95F4", value: 100 - efficiency }
  ];
  const COLORS = ["#52c41a", "#faad14"];
  const renderCustomizedLabel = ({ cx, cy, midAngle, innerRadius, outerRadius, percent }) => {
    const radius = innerRadius + (outerRadius - innerRadius) * 0.5;
    const x = cx + radius * Math.cos(-midAngle * (Math.PI / 180));
    const y = cy + radius * Math.sin(-midAngle * (Math.PI / 180));
    return /* @__PURE__ */ jsx(
      "text",
      {
        x,
        y,
        fill: "white",
        textAnchor: "middle",
        dominantBaseline: "central",
        fontSize: 14,
        fontWeight: "bold",
        children: `${(percent * 100).toFixed(0)}%`
      }
    );
  };
  return /* @__PURE__ */ jsx("div", { style: { width: size, height: size }, children: /* @__PURE__ */ jsx(ResponsiveContainer, { width: "100%", height: "100%", children: /* @__PURE__ */ jsxs(PieChart, { children: [
    /* @__PURE__ */ jsx(
      Pie,
      {
        data,
        cx: "50%",
        cy: "50%",
        innerRadius: size * 0.3,
        outerRadius: size * 0.5,
        paddingAngle: 2,
        dataKey: "value",
        labelLine: false,
        label: showLabel ? renderCustomizedLabel : void 0,
        children: data.map((entry, index) => /* @__PURE__ */ jsx(Cell, { fill: COLORS[index % COLORS.length] }, `cell-${index}`))
      }
    ),
    /* @__PURE__ */ jsx(Tooltip, { formatter: (value) => [`${value}%`, ""] })
  ] }) }) });
};
export default EfficiencyChart;
