"use strict";
import { jsx, jsxs } from "react/jsx-runtime";
import { Breadcrumb, Button, Space } from "antd";
import { HomeOutlined, ArrowLeftOutlined } from "@ant-design/icons";
import { useAppStore } from "@/store";
const DrilldownNavigator = ({ onBack, onHome }) => {
  const { drilldownPath, clearDrilldownPath } = useAppStore();
  const handleBack = () => {
    if (onBack) {
      onBack();
    } else if (drilldownPath.length > 0) {
      clearDrilldownPath();
    }
  };
  const handleHome = () => {
    if (onHome) {
      onHome();
    } else {
      clearDrilldownPath();
    }
  };
  const breadcrumbItems = drilldownPath.map((pathItem, index) => {
    const [type, id] = pathItem.split(":");
    const typeName = type === "namespace" ? "\u547D\u540D\u7A7A\u95F4" : type === "node" ? "\u8282\u70B9" : type === "workload" ? "\u5DE5\u4F5C\u8D1F\u8F7D" : "Pod";
    return {
      title: `${typeName}: ${id}`,
      key: index
    };
  });
  return /* @__PURE__ */ jsxs(Space, { size: "middle", style: { marginBottom: 16 }, children: [
    /* @__PURE__ */ jsx(
      Button,
      {
        icon: /* @__PURE__ */ jsx(ArrowLeftOutlined, {}),
        onClick: handleBack,
        disabled: drilldownPath.length === 0,
        children: "\u8FD4\u56DE"
      }
    ),
    /* @__PURE__ */ jsx(Button, { icon: /* @__PURE__ */ jsx(HomeOutlined, {}), onClick: handleHome, children: "\u9996\u9875" }),
    drilldownPath.length > 0 && /* @__PURE__ */ jsx(Breadcrumb, { items: breadcrumbItems })
  ] });
};
export default DrilldownNavigator;
